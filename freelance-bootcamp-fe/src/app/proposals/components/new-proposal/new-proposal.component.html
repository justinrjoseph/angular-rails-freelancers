<div class="container card new-proposal">
  <div class="row">
    <div class="col-md-6">
      <h1>Create a Proposal</h1>
      
      <form #f="ngForm" (ngSubmit)="createProposal(f.value)">
        <div class="form-group">
          <label for="customer">Customer</label>
          <input
            type="text"
            name="customer"
            id="customer"
            class="form-control"
            placeholder="ABC Company"
            #customer="ngModel"
            ngModel
            required>
      
          <div
            *ngIf="customer.touched && customer.invalid"
            class="alert alert-danger">
            Customer is required.
          </div>
        </div>
      
        <div class="form-group">
          <label for="portfolio_url">Portfolio URL</label>
          <input
            type="url"
            name="portfolio_url"
            id="portfolio_url"
            class="form-control"
            #portfolioUrl="ngModel"
            [ngModel]="urlPrefix"
            required>
          
          <div
            *ngIf="portfolioUrl.touched && portfolioUrl.invalid"
            class="alert alert-danger">
            A URL to your online porfolio is required.
          </div>
        </div>
      
        <div class="form-group">
          <label for="tools">Technologies for the project</label>
          <input
            type="text"
            name="tools"
            id="tools"
            class="form-control"
            placeholder="Rails, Angular, etc..."
            #tools="ngModel"
            ngModel
            required>
      
          <div
            *ngIf="tools.touched && tools.invalid"
            class="alert alert-danger">
            A list of technologies you'll use for the project is required.
          </div>
        </div>
      
        <div class="form-group">
          <label for="estimated_hours">Estimated Hours</label>
          <input
            type="number"
            name="estimated_hours"
            id="estimated_hours"
            class="form-control"
            #estimatedHours="ngModel"
            ngModel
            required>
      
          <div
            *ngIf="estimatedHours.touched && estimatedHours.invalid"
            class="alert alert-danger">
            Your estimated hours is required.
          </div>
        </div>
      
        <div class="form-group">
          <label for="hourly_rate">Hourly Rate</label>

          <div class="input-group">
            <span class="input-group-addon">$</span>
            <input
              type="number"
              name="hourly_rate"
              id="hourly_rate"
              class="form-control"
              #hourlyRate="ngModel"
              ngModel
              required>
          </div>
        
          <div
            *ngIf="hourlyRate.touched && hourlyRate.invalid"
            class="alert alert-danger">
            Your hourly rate is required.
          </div>
        </div>
      
        <div class="form-group">
          <label for="weeks_to_complete">Weeks to Complete</label>
          <input
            type="number"
            name="weeks_to_complete"
            id="weeks_to_complete"
            class="form-control"
            #weeksToComplete="ngModel"
            ngModel
            required>
          
          <div
            *ngIf="weeksToComplete.touched && weeksToComplete.invalid"
            class="alert alert-danger">
            Your estimated weeks to complete the project is required.
          </div>
        </div>
      
        <div class="form-group">
          <label for="client_email">Client Email <em>optional</em></label>
          <input
            type="email"
            name="client_email"
            id="client_email"
            class="form-control"
            #clientEmail="ngModel"
            ngModel>
        </div>

        <button
          class="btn btn-outline-primary btn-lg"
          [disabled]="f.invalid"
          [hidden]="submitted">
          Generate
        </button>

        <div
          *ngIf="submitted"
          class="alert alert-success"
          role="alert">
          Your proposal was generated: <a routerLink="/proposals" class="alert-link">View all</a>
        </div>
      </form>
    </div>

    <div class="col-md-6">
      <p>Hi {{ customer.value }}</p>
    
      <p>
        It was a pleasure meeting you and reviewing your project requirements. I believe it is a great fit for the skill set I have in building applications. Please feel free to check out some of my past projects <a [href]="portfolioUrl.value">here</a>.
      </p>
    
      <p>
        To successfully build your project, I will be utilizing {{ tools.value }}... and a number of other tools to ensure that the project follows industry-wide best practices.
      </p>
    
      <p>
        Ensuring that you're fully informed is one of my top priorities, so in addition to incorporating everything that we discussed, I will also create a project management dashboard. I will daily send you a project update message so that you have a transparent view of the development as it takes place.
      </p>
    
      <p>
        I estimate that it will take {{ estimatedHours.value }} hours to meet the requirements we discussed and finish the project. The project should take {{ weeksToComplete.value }} weeks to complete, and with my hourly rate of <span *ngIf="hourlyRate.value">{{ hourlyRate.value | currency:'USD':true }}</span>, the estimated total is {{ estimatedHours.value * hourlyRate.value | currency:'USD':true:'.0' }}.
      </p>
    
      <p>
        The next step is to set up a meeting to finalize the project and sign contracts.
      </p>
    
      <p>
        I am excited to work with you and build this application!
      </p>
    </div>
  </div>